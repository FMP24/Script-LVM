#crear LV
#Comprobar si hay tamaño suficiente, si no lo hay salir del programa sin hacer nada. Si lo hay, crear LV de 20GB

#! /bin/bash

#Autor: Juan Carlos Martín Muñoz
#Descripción: Comprueba si hay tamaño suficiente en el grupo de volumenes (vg01), si no lo hay saldra del programa sin hacer nada. Si lo hay, creara un LV de 20GB

VG_NAME=myvg
LV_SIZE=20G
VG_FREE=$(vgdisplay -c $VG_NAME | cut -d ":" -f 16)

if [ $LV_SIZE -lt $VG_FREE ]; then
  lvcreate -L $LV_SIZE -n mylv $VG_NAME
	Return 0
else
  echo "No hay suficiente espacio libre en el grupo de volumenes. Saliendo del script."
  return 1
	exit 1
fi
